<h1 [ngClass]="config.resetPasswordHeadingClass" [innerHtml]="data.resetPasswordHeading"></h1>
<p [ngClass]="config.resetPasswordSubHeadingClass" [innerHtml]="data.resetPasswordSubHeading"></p>
<div *ngIf="!submitted" [ngClass]="config.resetPasswordFormWrapperClass">
	<form [formGroup]="form" (ngSubmit)="onSubmit()" class="mb-3">
		<div class="mb-3">
			<label class="form-label">New Password</label>
			<input type="password" class="form-control" formControlName="newPassword" [class.is-invalid]="form.get('newPassword')?.invalid && form.get('newPassword')?.touched">
			<div class="invalid-feedback" *ngIf="form.get('newPassword')?.invalid && form.get('newPassword')?.touched">
				Password is required (min 6 chars)
			</div>
		</div>
		<div class="mb-3">
			<label class="form-label">Confirm Password</label>
			<input type="password" class="form-control" formControlName="confirmPassword" [class.is-invalid]="form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched">
			<div class="invalid-feedback" *ngIf="form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched">
				Please confirm your password
			</div>
		</div>
		<div *ngIf="errorMsg" class="alert alert-danger">{{ errorMsg }}</div>
		<button type="submit" class="btn btn-primary w-100" [disabled]="loading">
			<span *ngIf="!loading">Change Password</span>
			<span *ngIf="loading"><span class="spinner-border spinner-border-sm"></span></span>
		</button>
	</form>
</div>
<div *ngIf="submitted">
	<p [ngClass]="config.resetPasswordSubmittedDescriptionClass" [innerHtml]="data.resetPasswordSubmittedDescription"></p>
	<p [ngClass]="config.resetPasswordSubmittedLoginLinkClass">
		<a routerLink="/auth/login">{{data.resetPasswordSubmittedLoginText}}</a>
	</p>
</div>
