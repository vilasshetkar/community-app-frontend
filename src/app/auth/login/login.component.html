<div *ngIf="!showForm" class="d-flex justify-content-center align-items-center" style="min-height: 300px;">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<div *ngIf="showForm">
    <div class="login-header">
        <h2>Log In. Level Up</h2>
        <h3 class="text-muted">Your journey continues here</h3>
        <p class="text-muted">Quick, simple, and secure login to continue your experience.</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form">
        <!-- <div class="mb-3" *ngIf="loginMode === 'both'">
		  <label class="form-label">Login With:</label>
		  <div class="form-check form-check-inline">
			  <input class="form-check-input" type="radio" id="loginTypeEmail" value="email" formControlName="loginType">
			  <label class="form-check-label" for="loginTypeEmail">Email</label>
		  </div>
		  <div class="form-check form-check-inline">
			  <input class="form-check-input" type="radio" id="loginTypeMobile" value="mobile" formControlName="loginType">
			  <label class="form-check-label" for="loginTypeMobile">Mobile</label>
		  </div>
	  </div> -->
        <div class="mb-3" *ngIf="form.get('loginType')?.value === 'email'">
            <label for="email" class="form-label">Email</label>
            <input id="email" type="email" class="form-control" formControlName="email" placeholder="Enter Email"
                required>
            <div *ngIf="form.get('email')?.touched && form.get('email')?.errors" class="text-danger small">
                <div *ngIf="form.get('email')?.errors?.['required']">Email is required</div>
                <div *ngIf="form.get('email')?.errors?.['email']">Invalid email address</div>
            </div>
        </div>
        <div class="mb-3" *ngIf="form.get('loginType')?.value === 'mobile'">
            <label for="mobile" class="form-label">Mobile</label>
            <input id="mobile" type="text" class="form-control" formControlName="mobile"
                placeholder="Enter mobile number" required>
            <div *ngIf="form.get('mobile')?.touched && form.get('mobile')?.errors" class="text-danger small">
                <div *ngIf="form.get('mobile')?.errors?.['required']">Mobile is required</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input id="password" type="password" class="form-control" formControlName="password" placeholder="Password"
                required>
            <div *ngIf="form.get('password')?.touched && form.get('password')?.errors" class="text-danger small">
                <div *ngIf="form.get('password')?.errors?.['required']">Password is required</div>
            </div>
        </div>
        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="rememberMe" formControlName="rememberMe">
            <label class="form-check-label" for="rememberMe">Remember me</label>
        </div>
        <button type="submit" class="btn btn-primary w-100 py-2">Login</button>
        <div class="d-flex justify-content-between mt-3">
            <a routerLink="/auth/forgot-password">Forgot Password?</a>
            <a routerLink="/auth/register">Click here to Register!</a>
        </div>
    </form>
    <div *ngIf="googleClientId" class="d-flex justify-content-center my-3 border-top pt-3">
        <a (click)="startGoogleOAuth()" class="btn btn-outline-warning">
            <i class="bi bi-google"></i> Login with Google
        </a>
    </div>
</div>